{"version":3,"sources":["dateHelper.js","Calendar/constants.js","Information/constants.js","Information/reducer.js","Information/components/Info/index.js","Information/actions.js","Calendar/reducer.js","Calendar/actions.js","Calendar/components/WeekendDay/index.js","Calendar/components/ClickableDay/index.js","Calendar/components/SwipeableDay/index.js","Calendar/components/OtherMonthDay/index.js","Calendar/components/NextMonth/index.js","Calendar/components/PreviousMonth/index.js","Calendar/components/DeviationDay/index.js","Calendar/components/Calendar/index.js","Application/cookie.js","Application/reducer.js","Application/stats.js","Application/gmail.js","Application/components/Modal/index.js","Application/components/State/index.js","Application/components/Login/index.js","Application/components/OAuth/index.js","Reporting/components/Report/index.js","App.js","index.js"],"names":["getNumberOfDaysInMonth","selectedDate","month","getMonth","year","getFullYear","Date","getDate","formatDate","day","d","stringMonth","stringDay","stringYear","length","join","getformattedDate","date","newDate","isWeekEnd","getDay","isDateInArray","array","filter","removeDateFromArray","getDatesInArrayForThisYearMonth","map","index","sort","getDaysInMonthArray","state","numberOfDaysInMonth","daysInMonthArray","fillerDatesBefore","fillerDates","count","daysPreviousMonth","i","push","type","getFillerDaysBeforeThisMonth","fillerDatesAfter","dayInWeek","counter","setDate","getFillerDaysAfterThisMonth","concat","alreadyAdded","deviations","j","property","label","LOAD_DATES","REPORT_DEVIATION","CLEAR_DEVIATION","COLLEAGUE_CHANGED","CUSTOMER_CHANGED","ACCOUNT_CHANGED","PRICERATE_CHANGED","WORKHOURS_CHANGED","EMAIL_CHANGED","InformationReducer","action","types","colleague","payload","customer","account","pricerate","workHours","email","Info","document","getElementById","scrollIntoView","this","props","colleagueChanged","customerChanged","accountChanged","pricerateChanged","workHoursChanged","emailChanged","id","className","htmlFor","defaultValue","onChange","Component","connect","info","dispatch","event","target","value","parseInt","getBillableHours","billableHours","getFormattedStartDate","getFormattedEndDate","updateDateForArrayProperty","remove","newState","newArray","daysInMonth","initialState","weekdays","months","deviationJson","CalendarReducer","formattedStartDate","formattedEndDate","informationTypes","workHoursChangedState","loadDatesAction","reportDeviation","clearDeviation","reportVABAction","reportSicknessAction","reportVacationAction","reportAptitudDayAction","clearVABAction","clearSicknessAction","clearVacationAction","clearAptitudDayAction","WeekendDay","pad","n","ClickableDay","data-toggle","role","aria-haspopup","aria-expanded","aria-labelledby","deviation","key","href","onClick","calendar","actions","SwipeableDay","updateDeviation","getDeviation","found","getClassName","getStartSlide","startSlide","swipeOptions","continuous","disableScroll","stopPropagation","callback","elem","OtherMonthDay","style","NextMonth","addMonth","nextMonth","nextDate","PreviousMonth","subMonth","previousMonth","previousDate","DeviationDay","Calendar","weekday","setCookie","name","maxage","setSeconds","getSeconds","expires","toUTCString","cookie","getCookie","cname","ca","split","c","charAt","substring","indexOf","parseHash","hash","matches","exec","access_token","ApplicationReducer","showSpinner","token","google","window","location","origin","process","track","dataLayer","sendMessage","hideSpinner","to","subject","body","msg","mimemessage","factory","contentType","header","htmlEntity","options","method","headers","toString","fetch","settings","sendMailUri","then","response","status","Error","catch","error","console","log","message","Modal","title","okLabel","okAction","tabIndex","data-dismiss","aria-label","aria-hidden","State","redux","JSON","parse","localStorage","getItem","data-target","removeItem","stringify","Login","authuri","authUri","scopes","redirect","redirectUri","clientid","clientId","OAuth","authenticate","Report","createHtmlReport","showInReportDeviations","startTableHeader","startTableData","rows","deviationDates","html","sendEmail","htmlReport","gmail","total","showInReport","colSpan","childIndex","App","toggleInfo","setState","showInfo","toggleReport","showReport","spinnerName","noFadeIn","application","mount","routingMiddleware","routerMiddleware","browserHistory","middleware","applyMiddleware","createLogger","enhancer","compose","persistState","reducer","combineReducers","routing","routerReducer","store","createStore","history","syncHistoryWithStore","calendarActions","err","UserIsAuthenticated","UserAuthWrapper","authSelector","predicate","redirectAction","routerActions","replace","failureRedirectPath","wrapperDisplayName","allowRedirectBack","ReactDOM","render","path","component"],"mappings":"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","file":"static/js/main.c2d4789e.chunk.js","sourcesContent":["export const getNumberOfDaysInMonth = selectedDate => {\n  const month = selectedDate.getMonth() + 1\n  const year = selectedDate.getFullYear()\n  const date = new Date(year, month, 0).getDate()\n  return date\n}\nexport const formatDate = (year, month, day) => {\n  var d = new Date(year, month, day),\n      stringMonth = '' + (d.getMonth() + 1),\n      stringDay = '' + d.getDate(),\n      stringYear = d.getFullYear();\n\n  if (stringMonth.length < 2) stringMonth = '0' + stringMonth;\n  if (stringDay.length < 2) stringDay = '0' + stringDay;\n\n  return [stringYear, stringMonth, stringDay].join('-');\n}\nexport const getformattedDate = date => {\n  const newDate = new Date(date)\n  return formatDate(newDate.getFullYear(), newDate.getMonth(), newDate.getDate())\n}\nexport const isWeekEnd = date => {\n  if(!date)\n    return false\n\n  return date.getDay() === 0 || date.getDay() === 6\n}\nexport const isDateInArray = (date, array) => {\n  if(!array)\n    return false\n\n  return array.filter(d => getformattedDate(d) === getformattedDate(date)).length > 0\n}\nexport const removeDateFromArray = (date, array) => {\n  if(!array)\n    return false\n\n  return array.filter(d => getformattedDate(d) !== getformattedDate(date))\n}\nexport const getDatesInArrayForThisYearMonth = (year, month, array) => {\n  if(!array)\n    return []\n\n  const dates = array.filter(day => new Date(day).getFullYear() === year && new Date(day).getMonth() === month)\n  const formattedDates = dates.map((day, index) => {\n    return getformattedDate(day)\n  })\n  return formattedDates.sort()\n}\nexport const getFillerDaysBeforeThisMonth = date => {\n  const year = date.getFullYear()\n  const month = date.getMonth()\n  const firstDayInMonth = new Date(year, month, 1)\n  const dayInWeek = firstDayInMonth.getDay()\n  const fillerDates = []\n  let count = 0\n  switch (dayInWeek) {\n    case 1:\n      count = -1\n    break\n    case 2:\n      count = 0\n    break\n    case 3:\n      count = 1\n    break\n    case 4:\n      count = 2\n    break\n    case 5:\n      count = 3\n    break\n    case 6:\n      count = 4\n    break\n    default:\n      count = 5\n  }\n  const daysPreviousMonth = getNumberOfDaysInMonth(new Date(year, month - 1,1))\n  for (var i = daysPreviousMonth - count; i <= daysPreviousMonth; i++) {\n    var day = new Date(year, month - 1, i)\n    if(isWeekEnd(day)){\n      fillerDates.push({ type: 'other-month-weekend', date:day})\n    } else {\n      fillerDates.push({ type: 'other-month-day', date:day})\n    }\n  }\n\n  return fillerDates\n}\nexport const getFillerDaysAfterThisMonth = date => {\n  const year = date.getFullYear()\n  const month = date.getMonth()\n  const numberOfDaysInMonth = getNumberOfDaysInMonth(date)\n  const dayInWeek = new Date(year, month, numberOfDaysInMonth).getDay()\n  const fillerDates = []\n  for (var counter = 1; counter <= 7 - dayInWeek; counter++) {\n    let day = new Date(year, month, numberOfDaysInMonth)\n    day.setDate(day.getDate() + counter)\n    if(isWeekEnd(day)){\n      fillerDates.push({ type: 'other-month-weekend', date:day})\n    } else {\n      fillerDates.push({ type: 'other-month-day', date:day})\n    }\n  }\n\n  return fillerDates\n}\nexport const getDaysInMonthArray = state => {\n  const date = state.date\n  const month = date.getMonth()\n  const year = date.getFullYear()\n  const numberOfDaysInMonth = getNumberOfDaysInMonth(date)\n  let daysInMonthArray = []\n  const fillerDatesBefore = getFillerDaysBeforeThisMonth(date)\n  const fillerDatesAfter = getFillerDaysAfterThisMonth(date)\n\n  daysInMonthArray = daysInMonthArray.concat(fillerDatesBefore)\n  for (let i = 1; i <= numberOfDaysInMonth; i++) {\n    let day = new Date(year, month, i)\n    let alreadyAdded = false\n    if(state.deviations){\n      let j = 0\n      while(alreadyAdded === false && j < state.deviations.length) {\n        let property = state.deviations[j].type\n        let label = state.deviations[j].label\n        let array = state[property]\n        if(array && isDateInArray(day, array)){\n          daysInMonthArray.push({ type: property, label: label, date: day})\n          alreadyAdded = true\n        }\n        j++\n      }\n    }\n    if(!alreadyAdded) {\n      if(isWeekEnd(day)){\n        daysInMonthArray.push({ type: 'weekend', date: day})\n      }\n      else {\n        daysInMonthArray.push({ type: 'workday', date: day})\n      }\n    }\n  }\n  daysInMonthArray = daysInMonthArray.concat(fillerDatesAfter)\n  return daysInMonthArray\n}\n","export const LOAD_DATES = \"deviate-calendar/Calendar/LOAD_DATES\";\nexport const REPORT_VAB = \"deviate-calendar/Calendar/REPORT_VAB\";\nexport const REPORT_DEVIATION = \"deviate-calendar/Calendar/REPORT_DEVIATION\";\nexport const REPORT_APTITUDDAY = \"deviate-calendar/Calendar/REPORT_APTITUDDAY\";\nexport const REPORT_SICKNESS = \"deviate-calendar/Calendar/REPORT_SICKNESS\";\nexport const REPORT_VACATION = \"deviate-calendar/Calendar/REPORT_VACATION\";\nexport const CLEAR_DEVIATION = \"deviate-calendar/Calendar/CLEAR_DEVIATION\";\nexport const CLEAR_APTITUDDAY = \"deviate-calendar/Calendar/CLEAR_APTITUDDAY\";\nexport const CLEAR_SICKNESS = \"deviate-calendar/Calendar/CLEAR_SICKNESS\";\nexport const CLEAR_VAB = \"deviate-calendar/Calendar/CLEAR_VAB\";\nexport const CLEAR_VACATION = \"deviate-calendar/Calendar/CLEAR_VACATION\";\n","export const COLLEAGUE_CHANGED  = 'deviate-calendar/Information/COLLEAGUE_CHANGED'\nexport const CUSTOMER_CHANGED   = 'deviate-calendar/Information/CUSTOMER_CHANGED'\nexport const ACCOUNT_CHANGED    = 'deviate-calendar/Information/ACCOUNT_CHANGED'\nexport const PRICERATE_CHANGED  = 'deviate-calendar/Information/PRICERATE_CHANGED'\nexport const WORKHOURS_CHANGED  = 'deviate-calendar/Information/WORKHOURS_CHANGED'\nexport const EMAIL_CHANGED      = 'deviate-calendar/Information/EMAIL_CHANGED'\n","import * as types from './constants'\n\nconst InformationReducer = (state = {}, action = {}) => {\n  switch (action.type) {\n    case types.COLLEAGUE_CHANGED:\n      return {...state, colleague: action.payload.colleague }\n    case types.CUSTOMER_CHANGED:\n      return {...state, customer: action.payload.customer }\n    case types.ACCOUNT_CHANGED:\n      return {...state, account: action.payload.account }\n    case types.PRICERATE_CHANGED:\n      return {...state, pricerate: action.payload.pricerate }\n    case types.WORKHOURS_CHANGED:\n      return {...state, workHours: action.payload.workHours }\n    case types.EMAIL_CHANGED:\n      return {...state, email: action.payload.email }\n    default:\n      return state\n  }\n}\n\nexport default InformationReducer\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport * as actions from '../../actions'\n\nclass Info extends Component{\n  componentDidMount() {\n    document.getElementById(\"info\").scrollIntoView()\n  }\n  render(){\n    const {colleague,\n      customer,\n      account,\n      pricerate,\n      workHours,\n      email,\n      colleagueChanged,\n      customerChanged,\n      accountChanged,\n      pricerateChanged,\n      workHoursChanged,\n      emailChanged,\n    } = this.props\n    return(\n      <div id=\"info\" className=\"col-xs-12 box\">\n        <div className=\"form-group col-xs-12 col-sm-12 col-md-6\">\n          <label htmlFor=\"colleague\">Kollega</label>\n          <input type=\"text\" defaultValue={colleague} id=\"colleague\" className=\"form-control\" onChange={colleagueChanged}/>\n          <label htmlFor=\"customer\">Kund</label>\n          <input type=\"text\" defaultValue={customer} id=\"customer\" className=\"form-control\" onChange={customerChanged}/>\n          <label htmlFor=\"workHours\">Arbetstid</label>\n          <input type=\"text\" defaultValue={workHours} id=\"workHours\" className=\"form-control\" onChange={workHoursChanged}/>\n        </div>\n        <div className=\"form-group col-xs-12 col-sm-12 col-md-6\">\n          <label htmlFor=\"account\">Konto</label>\n          <input type=\"text\" defaultValue={account} id=\"account\" className=\"form-control\" onChange={accountChanged}/>\n          <label htmlFor=\"pricerate\">Pris</label>\n          <input type=\"text\" defaultValue={pricerate} id=\"pricerate\" className=\"form-control\" onChange={pricerateChanged}/>\n          <label htmlFor=\"email\">E-postadress att skicka tidrapport till</label>\n          <input type=\"text\" defaultValue={email} id=\"email\" className=\"form-control\" onChange={emailChanged}/>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect(state => ({\n  colleague: state.info.colleague,\n  customer: state.info.customer,\n  account: state.info.account,\n  pricerate: state.info.pricerate,\n  workHours: state.info.workHours,\n  email: state.info.email\n}), dispatch => ({\n  colleagueChanged: event => dispatch(actions.colleagueChangedAction(event.target.value)),\n  customerChanged: event => dispatch(actions.customerChangedAction(event.target.value)),\n  accountChanged: event => dispatch(actions.accountChangedAction(event.target.value)),\n  pricerateChanged: event => dispatch(actions.pricerateChangedAction(parseInt(event.target.value, 10))),\n  workHoursChanged: event => dispatch(actions.workHoursChangedAction(parseInt(event.target.value, 10))),\n  emailChanged: event => dispatch(actions.emailChangedAction(event.target.value)),\n}))(Info)\n","import * as types from './constants'\n\nexport const colleagueChangedAction = payload => ({type: types.COLLEAGUE_CHANGED, payload: {colleague: payload} })\nexport const customerChangedAction  = payload => ({type: types.CUSTOMER_CHANGED, payload: {customer: payload} })\nexport const accountChangedAction   = payload => ({type: types.ACCOUNT_CHANGED, payload: {account: payload} })\nexport const pricerateChangedAction = payload => ({type: types.PRICERATE_CHANGED, payload: {pricerate: payload} })\nexport const workHoursChangedAction = payload => ({type: types.WORKHOURS_CHANGED, payload: {workHours: payload} })\nexport const emailChangedAction = payload => ({type: types.EMAIL_CHANGED, payload: {email: payload} })\n","import {\n  getNumberOfDaysInMonth,\n  formatDate,\n  isWeekEnd,\n  isDateInArray,\n  removeDateFromArray,\n  getDaysInMonthArray\n} from '../dateHelper'\nimport * as types from './constants'\nimport { constants as informationTypes } from '../Information'\nimport deviationJson from './deviations.json'\n\nconst getBillableHours = (state) => {\n  const date = state.date\n  const workHours = state.workHours\n  const month = date.getMonth()\n  const year = date.getFullYear()\n  var billableHours = 0\n  for (var i = 1; i <= getNumberOfDaysInMonth(date); i++) {\n    let day = new Date(year, month, i)\n    let alreadyAdded = false\n    if (state.deviations) {\n      let j = 0\n      while (alreadyAdded === false && j < state.deviations.length) {\n        let property = state.deviations[j].type\n        let array = state[property]\n        if (array && isDateInArray(day, array)) {\n          billableHours -= workHours\n          alreadyAdded = true\n        }\n        j++\n      }\n    }\n    if (!alreadyAdded && isWeekEnd(day)) {\n      continue\n    }\n    billableHours += workHours\n  }\n  return billableHours\n}\nconst getFormattedStartDate = date => {\n  return formatDate(date.getFullYear(), date.getMonth(), 1)\n}\nconst getFormattedEndDate = date => {\n  return formatDate(date.getFullYear(), date.getMonth(), getNumberOfDaysInMonth(date))\n}\nexport const updateDateForArrayProperty = (payload, state, remove = false) => {\n  const date = payload.date\n  const property = payload.type\n  const newState = {\n    ...state\n  }\n  if (state[property]) {\n    const newArray = remove\n      ? removeDateFromArray(date, state[property])\n      : state[property].concat(date)\n    newState[property] = newArray\n  } else {\n    newState[property] = [ date ]\n  }\n  newState.date = date\n\n  return {\n    ...newState,\n    billableHours: getBillableHours(newState),\n    daysInMonth: getDaysInMonthArray(newState),\n  }\n}\nconst initialState = {\n  weekdays: [\n    'Mån',\n    'Tis',\n    'Ons',\n    'Tor',\n    'Fre',\n    'Lör',\n    'Sön',\n  ],\n  months: [\n    'Januari',\n    'Februari',\n    'Mars',\n    'April',\n    'Maj',\n    'Juni',\n    'Juli',\n    'Augusti',\n    'September',\n    'Oktober',\n    'November',\n    'December',\n  ],\n  workHours: 0,\n  deviations: deviationJson.deviations,\n}\nconst CalendarReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case types.LOAD_DATES:\n      const newState = {\n        ...state,\n        date: action.payload.date,\n      }\n      return {\n        ...state,\n        date: action.payload.date,\n        numberOfDaysInMonth: getNumberOfDaysInMonth(action.payload.date),\n        formattedStartDate: getFormattedStartDate(action.payload.date),\n        formattedEndDate: getFormattedEndDate(action.payload.date),\n        billableHours: getBillableHours(newState),\n        daysInMonth: getDaysInMonthArray(newState)\n      }\n    case types.REPORT_DEVIATION:\n      return updateDateForArrayProperty(action.payload, state)\n    case types.CLEAR_DEVIATION:\n      return updateDateForArrayProperty(action.payload, state, true)\n    case informationTypes.WORKHOURS_CHANGED:\n      const workHoursChangedState = {\n        ...state,\n        workHours: action.payload.workHours,\n      }\n      return {\n        ...workHoursChangedState,\n        billableHours: getBillableHours(workHoursChangedState)\n      }\n    default:\n      return state\n  }\n}\n\nexport default CalendarReducer\n","import * as types from './constants'\n\nexport const loadDatesAction = payload => ({type: types.LOAD_DATES, payload: {date: payload} })\nexport const reportDeviation = (date, type) => ({type: types.REPORT_DEVIATION, payload: {date: date, type: type} })\nexport const clearDeviation = (date, type) => ({type: types.CLEAR_DEVIATION, payload: {date: date, type: type} })\nexport const reportVABAction = payload => ({type: types.REPORT_VAB, payload: {date: payload} })\nexport const reportSicknessAction = payload => ({type: types.REPORT_SICKNESS, payload: {date: payload} })\nexport const reportVacationAction = payload => ({type: types.REPORT_VACATION, payload: {date: payload} })\nexport const reportAptitudDayAction = payload => ({type: types.REPORT_APTITUDDAY, payload: {date: payload} })\nexport const clearVABAction = payload => ({type: types.CLEAR_VAB, payload: {date: payload} })\nexport const clearSicknessAction = payload => ({type: types.CLEAR_SICKNESS, payload: {date: payload} })\nexport const clearVacationAction = payload => ({type: types.CLEAR_VACATION, payload: {date: payload} })\nexport const clearAptitudDayAction = payload => ({type: types.CLEAR_APTITUDDAY, payload: {date: payload} })\n","import React, {Component} from 'react'\nimport './style.css'\n\nexport default class WeekendDay extends Component{\n  pad = (n) => {\n    return (n < 10) ? (\"0\" + n) : n;\n  }\n  render(){\n    const {value, index} = this.props;\n    return (\n      <li id={'day-' + index} className=\"col-sm-1 weekend-day\">\n        <span className=\"text-muted\">\n          {this.pad(value.getDate())}\n        </span>\n      </li>\n    )\n  }\n}\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport './style.css'\nimport * as actions from '../../actions'\n\nclass ClickableDay extends Component{\n  pad = (n) => {\n    return (n < 10) ? (\"0\" + n) : n;\n  }\n  render(){\n    const {value,\n      index,\n      reportDeviation,\n      deviations,\n    } = this.props;\n    return (\n      <li className=\"col-sm-1 work-day\">\n        <div className=\"dropdown col-sm-12\">\n          <div id={'day-' + index} data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\n            {this.pad(value.getDate())}\n          </div>\n          <ul className=\"dropdown-menu\" id={'dropdown-menu-' + index } aria-labelledby={'day-' + index}>\n            <li className=\"dropdown-header\">Avvikelser</li>\n            {deviations &&\n              deviations.map(function(deviation, index){\n                return <li key={index}><a href=\"#\" onClick={() => reportDeviation(value, deviation.type)}>{deviation.label}</a></li>\n              })}\n          </ul>\n        </div>\n      </li>\n    )\n  }\n}\n\nexport default connect(state =>({\n  deviations: state.calendar.deviations\n}), dispatch => ({\n  reportDeviation: (date, type) => dispatch(actions.reportDeviation(date, type))\n}))(ClickableDay)\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport ReactSwipe from 'react-swipe';\nimport './style.css'\nimport * as actions from '../../actions'\n\nclass SwipeableDay extends Component{\n  pad = (n) => {\n    return (n < 10) ? (\"0\" + n) : n;\n  }\n  updateDeviation = (index, payload, deviations, reportDeviation, clearDeviation) => {\n    for (var i = 0; i < deviations.length; i++) {\n      if(index === i + 1) {\n        reportDeviation(payload.date, deviations[i].type)\n      } else {\n        clearDeviation(payload.date, deviations[i].type)\n      }\n    }\n  }\n  getDeviation = (payload, deviations) => {\n    if(!deviations) {\n      return null\n    }\n\n    let found = deviations.filter(deviation => deviation.type === payload.type)\n\n    return found ? found[0] : null\n  }\n  getClassName = (deviation) => {\n    if(!deviation) {\n      return 'col-sm-1 work-day'\n    }\n\n    return `col-sm-1 ${deviation.type}`\n  }\n  getStartSlide = (payload, deviations) => {\n    if(!deviations){\n      return 0\n    }\n\n    for (let i = 0; i < deviations.length; i++) {\n      if(deviations[i].type === payload.type){\n        return i + 1\n      }\n    }\n\n    return 0\n  }\n  render(){\n    const { payload,\n      reportDeviation,\n      clearDeviation,\n      deviations,\n    } = this.props;\n    const startSlide = this.getStartSlide(payload, deviations)\n    const deviation = this.getDeviation(payload, deviations)\n    return (\n      <li className={this.getClassName(deviation)} onClick={() => this.updateDeviation(0, payload, deviations, reportDeviation, clearDeviation)}>\n        <ReactSwipe className=\"carousel\" swipeOptions={\n          {\n            continuous: true,\n            startSlide: startSlide,\n            disableScroll: true,\n            stopPropagation: true,\n            callback: (index, elem) => this.updateDeviation(index, payload, deviations, reportDeviation, clearDeviation)\n          }} key={'startslide-' + startSlide + '-' + payload.date}>\n          <div><span>{this.pad(payload.date.getDate())}</span></div>\n          { deviations && deviations.map((deviation, index) => {\n            return <div key={index}><span>{deviation.label}</span></div>\n          })\n          }\n        </ReactSwipe>\n      </li>\n    )\n  }\n}\n\nexport default connect(state =>({\n  deviations: state.calendar.deviations\n}), dispatch => ({\n  reportDeviation: (date, type) => dispatch(actions.reportDeviation(date, type)),\n  clearDeviation: (date, type) => dispatch(actions.clearDeviation(date, type)),\n}))(SwipeableDay)\n","import React, {Component} from 'react'\nimport './style.css'\n\nexport default class OtherMonthDay extends Component{\n  pad = (n) => {\n    return (n < 10) ? (\"0\" + n) : n\n  }\n  render(){\n    const {index, value, type} = this.props\n    const style = `col-sm-1 ${type}`\n    const date = value === '-' ? new Date() : value\n    return (\n        <li id={'day-' + index} className={style}>\n          <span className=\"text-muted\">\n            {this.pad(date.getDate())}\n          </span>\n        </li>\n    )\n  }\n}\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport * as actions from '../../actions'\n\nclass NextMonth extends Component{\n  render(){\n    const {date, addMonth} = this.props\n    const month = date.getMonth()\n    const year = date.getFullYear()\n    const nextMonth = new Date(year, month + 1, 1)\n    return(\n      <li className=\"col-xs-2 col-sm-1 month\" onClick={() => addMonth(nextMonth)}>&gt;</li>\n    )\n  }\n}\n\nexport default connect( state => ({\n  date: state.calendar.date\n}), dispatch => ({\n  addMonth: nextDate => dispatch(actions.loadDatesAction(nextDate))\n}))(NextMonth)\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport * as actions from '../../actions'\n\nclass PreviousMonth extends Component{\n  render(){\n    const {date, subMonth} = this.props\n    const month = date.getMonth()\n    const year = date.getFullYear()\n    const previousMonth = new Date(year, month - 1, 1)\n    return(\n      <li className=\"col-xs-2 col-sm-1 month\" onClick={() => subMonth(previousMonth)}>&lt;</li>\n    )\n  }\n}\n\nexport default connect( state => ({\n  date: state.calendar.date\n}), dispatch => ({\n  subMonth: previousDate => dispatch(actions.loadDatesAction(previousDate))\n}))(PreviousMonth)\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport * as actions from '../../actions'\nimport './style.css'\n\nclass DeviationDay extends Component{\n  render(){\n    const {payload, index, clearDeviation} = this.props;\n    const style = `col-sm-1 ${payload.type}`\n    return (\n      <li id={'day-' + index} className={style} onClick={() => clearDeviation(payload.date, payload.type)}>\n        <span>{payload.label}</span>\n      </li>\n    )\n  }\n}\n\nexport default connect(state =>({\n}), dispatch => ({\n  clearDeviation: (date, type) => dispatch(actions.clearDeviation(date, type))\n}))(DeviationDay)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport WeekendDay from '../WeekendDay'\nimport ClickableDay from '../ClickableDay'\nimport SwipeableDay from '../SwipeableDay'\nimport OtherMonthDay from '../OtherMonthDay'\nimport NextMonth from '../NextMonth'\nimport PreviousMonth from '../PreviousMonth'\nimport DeviationDay from '../DeviationDay'\nimport './style.css'\n\nclass Calendar extends Component{\n  render(){\n    const {date, weekdays, months, daysInMonth} = this.props\n    const month = date.getMonth()\n    const year = date.getFullYear()\n    return (\n      <div>\n        <div className=\"row\">\n          <ul className=\"months col-xs-12 col-sm-12\">\n            <PreviousMonth/>\n            <li className=\"col-xs-8 col-sm-5 month\">{months[month]} - {year}</li>\n            <NextMonth/>\n          </ul>\n        </div>\n        <div className=\"row\">\n          <ul className=\"weekdays col-xs-12 col-sm-12\">\n            {weekdays.map(function(weekday, index){\n              return <li className=\"weekday col-sm-1 hidden-xs\" key={index}>{weekday}</li>\n            })}\n          </ul>\n        </div>\n        <div className=\"row\">\n          <ul className=\"days visible-xs col-xs-12\">\n            {daysInMonth.map(function(day, index){\n              switch (day.type) {\n                case 'weekend':\n                  return <WeekendDay value={day.date} key={index} index={index}/>\n                case 'other-month-day':\n                case 'other-month-weekend':\n                  return <OtherMonthDay key={index} index={index} type={day.type} value={day.date}/>\n                default:\n                  return <SwipeableDay key={index} index={index} payload={{...day}}/>\n              }\n            })}\n          </ul>\n        </div>\n        <div className=\"row\">\n          <ul className=\"days hidden-xs col-sm-12\">\n            {daysInMonth.map(function(day, index){\n              switch (day.type) {\n                case 'weekend':\n                  return <WeekendDay value={day.date} key={index} index={index}/>\n                case 'workday':\n                  return <ClickableDay value={day.date} key={index} index={index}/>\n                case 'other-month-day':\n                case 'other-month-weekend':\n                  return <OtherMonthDay key={index} index={index} type={day.type} value={day.date}/>\n                default:\n                  return <DeviationDay key={index} index={index} payload={{...day}}/>\n              }\n            })}\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect(state => ({\n  date: state.calendar.date,\n  weekdays: state.calendar.weekdays,\n  months: state.calendar.months,\n  daysInMonth: state.calendar.daysInMonth,\n}), dispatch =>({\n\n}))(Calendar)\n","export const setCookie = (name, value, maxage) => {\n    const date = new Date()\n    date.setSeconds(date.getSeconds() + maxage)\n    const expires = \"expires=\"+ date.toUTCString();\n    document.cookie = name + \"=\" + value + \";\" + expires + \";path=/\";\n}\n\nexport const getCookie = name => {\n  var cname = name + \"=\";\n  var ca = document.cookie.split(';');\n  for(var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === ' ') {\n          c = c.substring(1);\n      }\n      if (c.indexOf(cname) === 0) {\n          return c.substring(cname.length, c.length);\n      }\n  }\n  return \"\";\n}\n","import { setCookie, getCookie } from \"./cookie\";\n\nconst parseHash = hash => {\n  if (!hash) return;\n\n  const regex = /access_token=(.+)&token_type=Bearer&expires_in=(\\d+)/g;\n  const matches = regex.exec(hash);\n  if (matches && matches.length === 3) {\n    return {\n      access_token: matches[1],\n      expires: matches[2]\n    };\n  }\n};\n\nconst ApplicationReducer = (state = { showSpinner: false }, action = {}) => {\n  switch (action.type) {\n    case \"Authorize\":\n      const token = getCookie(\"deviate-calendar\");\n      if (!token) {\n        return { ...state };\n      }\n      return { ...state, id: token };\n    case \"Authenticated\":\n      const google = parseHash(action.payload);\n      setCookie(\"deviate-calendar\", google.access_token, parseInt(google.expires, 10));\n      window.location.href = window.location.origin + process.env.PUBLIC_URL + \"/\";\n      return { ...state, id: google.access_token };\n    case \"ShowSpinner\":\n      return { ...state, showSpinner: true };\n    case \"HideSpinner\":\n      return { ...state, showSpinner: false };\n    default:\n      return { ...state };\n  }\n};\n\nexport default ApplicationReducer;\n","export const track = (action, label) => {\n  if (window.dataLayer){\n    window.dataLayer.push({\n     'eventCategory': 'deviate-calendar',\n     'eventAction': action,\n     'eventLabel': label,\n     'event': 'genericTrackEvent'\n    })\n  }\n}\n","import mimemessage from 'mimemessage'\nimport fetch from 'isomorphic-fetch'\nimport settings from '../settings.json'\nimport {getCookie} from './cookie'\nimport {track} from './stats'\n\nexport const sendMessage = (hideSpinner, to, subject, body, colleague) => {\n  const msg = mimemessage.factory({\n    contentType: 'multipart/mixed',\n    body: []\n  });\n  msg.header('to', to);\n  msg.header('subject', subject);\n  const htmlEntity = mimemessage.factory({\n    contentType: 'text/html;charset=utf-8',\n    body: body\n  });\n  msg.body.push(htmlEntity);\n  const options = {\n    method: 'POST',\n    headers: {\n      'Authorization': 'Bearer ' + getCookie('deviate-calendar'),\n      'Content-Type': 'message/rfc822'\n    },\n    body: msg.toString()\n  }\n  fetch(settings.sendMailUri, options)\n  .then(response => {\n      hideSpinner()\n      if (response.status >= 400) {\n          track('send e-mail', `failed|${to}|${colleague}` )\n          throw new Error(\"Bad response from Google\");\n      } else {\n        track('send e-mail', `success|${to}|${colleague}`)\n      }\n  })\n  .catch(error => console.log(error.message))\n}\n","import React, {Component} from 'react'\n\nexport default class Modal extends Component {\n  render(){\n    const {title, body, okLabel, okAction} = this.props\n    return(\n      <div id=\"myModal\" className=\"modal fade\" tabIndex=\"-1\" role=\"dialog\">\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n              <h4 className=\"modal-title\">{title}</h4>\n            </div>\n            <div className=\"modal-body\">\n              <p>{body}</p>\n            </div>\n            <div className=\"modal-footer\">\n              <button type=\"button\" className=\"btn btn-success\" data-dismiss=\"modal\" onClick={() => okAction()}>{okLabel}</button>\n              <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Avbryt</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, {Component} from 'react'\nimport Modal from '../Modal'\n\nexport default class State extends Component {\n  render() {\n    const redux = JSON.parse(localStorage.getItem(\"redux\"))\n    return(\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"well\">\n            <button type=\"button\" className=\"btn btn-danger\" data-toggle=\"modal\" data-target=\"#myModal\">\n              Nollställ data\n            </button>\n            <Modal title=\"Nollställ data\" body=\"Nollställ kommer att rensa allt data du har matat in någonsin\" okLabel=\"Nollställ data\" okAction={() => localStorage.removeItem('redux')}/>\n          </div>\n          <h3>Nuvarande data</h3>\n          <div className=\"well well-lg\">\n            <pre>\n              {JSON.stringify(redux, null, 2)}\n            </pre>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\nimport ReactRedirect from \"react-redirect\";\nimport settings from \"../../../settings.json\";\n\nexport default class Login extends Component {\n  render() {\n    console.log(\"Login page rendered\");\n    const authuri = settings.authUri;\n    const scopes = settings.scopes;\n    const redirect = window.location.origin + process.env.PUBLIC_URL + settings.redirectUri;\n    const clientid = settings.clientId;\n    const href = `${authuri}?scope=${scopes}&redirect_uri=${redirect}&response_type=token&client_id=${clientid}`;\n    console.log(\"Login page rendered\", href);\n    return <ReactRedirect location={href}></ReactRedirect>;\n  }\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nclass OAuth extends Component {\n  render() {\n    console.log(\"OAuth page rendered\");\n    const { authenticate } = this.props;\n    authenticate(this.props.location.hash);\n    console.log(\"OAuth page rendered\", this.props.location.hash);\n    return <div className=\"container\"></div>;\n  }\n}\n\nexport default connect(\n  state => ({}),\n  dispatch => ({\n    authenticate: payload => dispatch({ type: \"Authenticated\", payload: payload })\n  })\n)(OAuth);\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport {getformattedDate, getDatesInArrayForThisYearMonth} from '../../../dateHelper'\nimport {gmail} from '../../../Application'\nimport './style.css'\n\nclass Report extends Component {\n  componentDidMount() {\n    document.getElementById(\"report\").scrollIntoView()\n  }\n  createHtmlReport = (calendar, info, showInReportDeviations) => {\n    const year = calendar.date.getFullYear()\n    const month = calendar.date.getMonth()\n    const startTableRow = \"<tr>\"\n    const endTableRow = \"</tr>\"\n    const startTableHeader = '<th style=\"text-align: left;\">'\n    const endTableHeader = \"</th>\"\n    const startTableData = '<td style=\"text-align: left;\">'\n    const endTableData = \"</td>\"\n    const rows = []\n    rows[0] = '<table style=\"width: 100%;border-collapse: collapse;font-family: arial, sans-serif;\"><tbody>'\n    rows[rows.length] = startTableRow\n      rows[rows.length] = startTableHeader\n      rows[rows.length] = \"Kollega\"\n      rows[rows.length] = endTableHeader\n      rows[rows.length] = '<th colspan=\"4\" style=\"text-align: left;\">'\n      rows[rows.length] = \"Period\"\n      rows[rows.length] = endTableHeader\n    rows[rows.length] = endTableRow\n    rows[rows.length] = startTableRow\n      rows[rows.length] = startTableData\n      rows[rows.length] = info.colleague\n      rows[rows.length] = endTableData\n      rows[rows.length] = '<td colspan=\"4\" style=\"text-align: left;\">'\n      rows[rows.length] = `${calendar.formattedStartDate} -> ${calendar.formattedEndDate}`\n      rows[rows.length] = endTableData\n    rows[rows.length] = endTableRow\n    rows[rows.length] = \"<tr><td>&nbsp;</td></tr>\"\n    rows[rows.length] = startTableRow\n      rows[rows.length] = startTableHeader\n      rows[rows.length] = \"Kund\"\n      rows[rows.length] = endTableHeader\n      rows[rows.length] = startTableHeader\n      rows[rows.length] = \"Konto\"\n      rows[rows.length] = endTableHeader\n      rows[rows.length] = startTableHeader\n      rows[rows.length] = \"Timmar\"\n      rows[rows.length] = endTableHeader\n      rows[rows.length] = startTableHeader\n      rows[rows.length] = \"Pris\"\n      rows[rows.length] = endTableHeader\n      rows[rows.length] = startTableHeader\n      rows[rows.length] = \"Summa\"\n      rows[rows.length] = endTableHeader\n    rows[rows.length] = endTableRow\n    rows[rows.length] = startTableRow\n      rows[rows.length] = startTableData\n      rows[rows.length] = info.customer\n      rows[rows.length] = endTableData\n      rows[rows.length] = startTableData\n      rows[rows.length] = info.account\n      rows[rows.length] = endTableData\n      rows[rows.length] = startTableData\n      rows[rows.length] = calendar.billableHours\n      rows[rows.length] = endTableData\n      rows[rows.length] = startTableData\n      rows[rows.length] = info.pricerate\n      rows[rows.length] = endTableHeader\n      rows[rows.length] = startTableData\n      rows[rows.length] = calendar.billableHours * info.pricerate\n      rows[rows.length] = endTableData\n    rows[rows.length] = endTableRow\n\n    if (showInReportDeviations) {\n      // eslint-disable-next-line\n      showInReportDeviations.map((deviation, index) => {\n        const property = deviation.type\n        const array = calendar[property]\n        const deviationDates = getDatesInArrayForThisYearMonth(year, month, array)\n        if (deviationDates.length > 0) {\n          rows[rows.length] = \"<tr><td>&nbsp;</td></tr>\"\n          rows[rows.length] = startTableRow\n            rows[rows.length] = '<th colspan=\"3\" style=\"text-align: left;\">'\n            rows[rows.length] = `${deviation.label} - totalt ${deviationDates.length} dag(ar)`\n            rows[rows.length] = endTableHeader\n          rows[rows.length] = endTableRow\n          // eslint-disable-next-line\n          deviationDates.map((date, index) => {\n            rows[rows.length] = startTableRow\n              rows[rows.length] = '<td colspan=\"3\" style=\"text-align: left;\">'\n              rows[rows.length] = getformattedDate(date)\n              rows[rows.length] = endTableData\n            rows[rows.length] = endTableRow\n          })\n        }\n      })\n    }\n\n    let html = \"\"\n     for (var i = 0; i < rows.length; i++) {\n      html += rows[i]\n    }\n    html += \"</tbody><table>\"\n    html += '<br/>Skickat med <a href=\"https://deviate-calendar.herokuapp.com/\">deviate-calendar</a>'\n\n    return html\n  }\n  sendEmail = (showSpinner, hideSpinner, email, subject, htmlReport, colleague) => {\n    showSpinner()\n    gmail.sendMessage(hideSpinner, email, subject, htmlReport, colleague)\n  }\n  render() {\n    const {calendar, info, showSpinner, hideSpinner} = this.props\n    const total = info.pricerate * calendar.billableHours\n    const year = calendar.date.getFullYear()\n    const month = calendar.date.getMonth()\n    const showInReportDeviations = calendar.deviations.filter(deviation => deviation.showInReport === true)\n    const subject = `Tidrapport perioden ${calendar.formattedStartDate} -> ${calendar.formattedEndDate}`\n    const htmlReport = this.createHtmlReport(calendar, info, showInReportDeviations)\n    return (\n      <div id=\"report\" className=\"col-xs-12 box\">\n        <div className=\"table-responsive\">\n          <table className=\"table table-borderless table-condensed\">\n            <tbody>\n              <tr>\n                <th colSpan=\"1\">Kollega</th>\n                <th colSpan=\"2\">Period</th>\n              </tr>\n              <tr>\n                <td colSpan=\"1\">{info.colleague}</td>\n                <td colSpan=\"2\">{calendar.formattedStartDate} -> {calendar.formattedEndDate}</td>\n              </tr>\n              <tr>\n                <th colSpan=\"1\">Kund</th>\n                <th colSpan=\"1\">Konto</th>\n                <th colSpan=\"1\">Timmar</th>\n                <th colSpan=\"1\">Pris</th>\n                <th colSpan=\"1\">Summa</th>\n              </tr>\n              <tr>\n                <td colSpan=\"1\">{info.customer}</td>\n                <td colSpan=\"1\">{info.account}</td>\n                <td colSpan=\"1\">{calendar.billableHours}</td>\n                <td colSpan=\"1\">{info.pricerate}</td>\n                <td colSpan=\"1\">{total}</td>\n              </tr>\n              {\n                showInReportDeviations && showInReportDeviations.map((deviation, index) => {\n                  let property = deviation.type\n                  let array = calendar[property]\n                  if(!array){\n                    return null\n                  }\n                  const deviationDates = getDatesInArrayForThisYearMonth(year, month, array)\n                  if(deviationDates && deviationDates.length > 0) {\n                    return ([\n                      <tr key={property + '-header-' + index}>\n                        <th colSpan=\"2\">{deviation.label} - totalt {deviationDates.length} dag(ar)</th>\n                      </tr>,\n                    deviationDates.map((day, childIndex) => {\n                      return ([\n                        <tr key={property + '-details-' + childIndex}>\n                          <td colSpan=\"2\">{getformattedDate(day)}</td>\n                        </tr>\n                      ])\n                    })\n                    ])\n                  }\n                  return null\n                })\n              }\n            </tbody>\n          </table>\n        </div>\n        <div className=\"col-xs-12\">\n          {info && info.email &&\n            <input type=\"button\" className=\"margin-bottom btn btn-primary\" value={`Skicka tidrapport`} onClick={() => this.sendEmail(showSpinner, hideSpinner, info.email, subject, htmlReport, info.colleague)}/>\n          }\n        </div>\n      </div>\n) } }\nexport default connect(\nstate =>({\n  calendar : state.calendar,\n  info : state.info,\n}), dispatch => ({\n  showSpinner: () => dispatch({type:'ShowSpinner'}),\n  hideSpinner: () => dispatch({type:'HideSpinner'})\n}))(Report)\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport Spinner from 'react-spinkit'\nimport {Calendar} from './Calendar'\nimport {Info} from './Information'\nimport {Report} from './Reporting'\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      showInfo: false,\n      showReport: false,\n    }\n  }\n  toggleInfo = () => {\n    this.setState({\n      showInfo: !this.state.showInfo\n    })\n  }\n  toggleReport = () => {\n    this.setState({\n      showReport: !this.state.showReport\n    })\n    if (this.state.showReport) {\n      document.body.scrollIntoView()\n    }\n  }\n  render() {\n    const {showSpinner, info} = this.props\n    const showReport = this.state.showReport\n    const showInfo = this.state.showInfo\n    return (\n      <div className=\"container\">\n        { showSpinner &&\n          <Spinner spinnerName=\"spinner\" noFadeIn />\n        }\n        <div className=\"row\">\n          <Calendar />\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-sm-7 col-sm-offset-0\">\n              <div className=\"box-header pointer\" onClick={this.toggleInfo}>\n                {!showInfo && <span>Visa personuppgifter</span>}\n                {!showInfo && <span className=\"pull-right\"><i className=\"glyphicon glyphicon-chevron-right\"></i></span>}\n                {showInfo && <span>Dölj personuppgifter</span>}\n                {showInfo && <span className=\"pull-right\"><i className=\"glyphicon glyphicon-chevron-down\"></i></span>}\n              </div>\n              {showInfo &&\n                <Info/>\n              }\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-sm-7 col-sm-offset-0\">\n              <div className=\"box-header pointer\" onClick={this.toggleReport}>\n                {!showReport && <span>Visa tidrapport</span>}\n                {!showReport && <span className=\"pull-right\"><i className=\"glyphicon glyphicon-chevron-right\"></i></span>}\n                {showReport && <span>Dölj tidrapport</span>}\n                {showReport && <span className=\"pull-right\"><i className=\"glyphicon glyphicon-chevron-down\"></i></span>}\n              </div>\n              {showReport &&\n                <Report/>\n              }\n            </div>\n          </div>\n        </div>\n        <input id=\"welcome\" type=\"hidden\" value={info.colleague}/>\n      </div>\n    )\n  }\n}\n\nexport default connect(state =>({\n  info: state.info,\n  showSpinner: state.application.showSpinner\n}))(App)\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { Router, Route, browserHistory } from \"react-router\";\nimport { routerReducer, syncHistoryWithStore, routerActions, routerMiddleware } from \"react-router-redux\";\nimport { UserAuthWrapper } from \"redux-auth-wrapper\";\nimport createLogger from \"redux-logger\";\nimport { compose, createStore, applyMiddleware } from \"redux\";\nimport { combineReducers } from \"redux\";\nimport persistState from \"redux-localstorage\";\nimport { reducer as CalendarReducer } from \"./Calendar\";\nimport { reducer as InformationReducer } from \"./Information\";\nimport { reducer as ApplicationReducer } from \"./Application\";\nimport App from \"./App\";\nimport { actions as calendarActions } from \"./Calendar\";\nimport { State, Login, OAuth } from \"./Application\";\nimport \"./index.css\";\n\nconst mount = document.getElementById(\"mount\");\nconst routingMiddleware = routerMiddleware(browserHistory);\nconst middleware = applyMiddleware(routingMiddleware, createLogger());\nconst enhancer = compose(middleware, persistState([\"info\", \"calendar\"], {}));\nconst reducer = combineReducers({\n  routing: routerReducer,\n  calendar: CalendarReducer,\n  info: InformationReducer,\n  application: ApplicationReducer\n});\nconst store = createStore(reducer, {}, enhancer);\nconst history = syncHistoryWithStore(browserHistory, store);\n\ntry {\n  store.dispatch({ type: \"Authorize\" });\n  store.dispatch(calendarActions.loadDatesAction(new Date()));\n} catch (err) {\n  console.log(err.message);\n}\n\nconst UserIsAuthenticated = UserAuthWrapper({\n  authSelector: state => state.application,\n  predicate: application => application && application.id,\n  redirectAction: routerActions.replace,\n  failureRedirectPath: process.env.PUBLIC_URL + \"/login\",\n  wrapperDisplayName: \"UserIsAuthenticated\",\n  allowRedirectBack: false\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n      <Route path={\"/\"} component={UserIsAuthenticated(App)} />\n      <Route path={process.env.PUBLIC_URL + \"/\"} component={UserIsAuthenticated(App)} />\n      <Route path={process.env.PUBLIC_URL + \"/login\"} component={Login} />\n      <Route path={process.env.PUBLIC_URL + \"/oauth\"} component={OAuth} />\n      <Route path={\"/oauth\"} component={OAuth} />\n      <Route path={process.env.PUBLIC_URL + \"/state\"} component={State} />\n    </Router>\n  </Provider>,\n  mount\n);\n\nexport default store;\n"],"sourceRoot":""}